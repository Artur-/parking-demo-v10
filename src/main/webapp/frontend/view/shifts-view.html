<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/vaadin-grid/vaadin-grid.html">
<link rel="import" href="../bower_components/vaadin-ordered-layout/vaadin-vertical-layout.html">

<dom-module id="shifts-view">
	<template>
		<style>
			vaadin-vertical-layout {
				height: 100%;
			}

			#shifts {
				height: 100%;
			}
		</style>
		<vaadin-vertical-layout>
			<vaadin-grid id="shifts" items="[[shifts]]">
				<vaadin-grid-column>
					<template class="header">Name</template>
					<template>[[item.name]]</template>
				</vaadin-grid-column>

				<vaadin-grid-column>
					<template class="header">Area</template>
					<template>[[item.area]]</template>
				</vaadin-grid-column>

				<vaadin-grid-column>
					<template class="header">Date</template>
					<template>[[item.date]]</template>
				</vaadin-grid-column>
				<vaadin-grid-column>
					<template class="header">Start</template>
					<template>[[item.start]]:00</template>
				</vaadin-grid-column>
				<vaadin-grid-column>
					<template class="header">End</template>
					<template>[[item.end]]:00</template>
				</vaadin-grid-column>

			</vaadin-grid>
		</vaadin-vertical-layout>
	</template>
	<script>
		class ShiftsView extends Polymer.Element {
			connectedCallback() {
				super.connectedCallback();
				if (!this.shifts) {
					this.shifts = JSON.parse(localStorage.getItem("shifts")) || [];
				}
			}
			static get is() {
				return 'shifts-view';
			}
			static get properties() {
				return {
					shifts: {
						type: Array,
						value: undefined,
						observer: 'shiftsChanged'
					}
				}
			}
			shiftsChanged() {
				localStorage.setItem("shifts", JSON.stringify(this.shifts));
			}
		}
		customElements.define(ShiftsView.is, ShiftsView);
	</script> </dom-module>